<?xml version="1.0" encoding="UTF-8"?>

<!-- ==== mapper 기본설정 ==== -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- ==== 루트 엘리먼트 & 네임스페이스 설정(프로젝트 전체내에서 유일해야 한다.) ==== -->
<mapper namespace="chw">
	
	<!--=============== Member 시작 ============-->
	
	<select id="idExistCheck" parameterType="String" resultType="Integer">
		select count(userid) from tbl_member_login
		where userid = #{userid}
	</select>
	
	
	<!--=============== Member 끝 ============-->
	
	
	
	<!--=============== Login 시작 ============-->
	
	<select id="userExistCheck" parameterType="HashMap" resultType="Integer">
		select count(userid) from tbl_member_login
		where userid = #{userid} and passwd = #{passwd}
	</select>
	
	
	<select id="statusCheck" parameterType="String" resultType="com.gukmo.board.model.MemberVO">
		select * from tbl_member_login
		where userid = #{userid}
	</select>
	
	
	<select id="getLastLoginday" parameterType="String" resultType="Integer">
		select trunc(sysdate-login_date)
		from tbl_login_record
		where fk_userid = #{userid}
		order by login_date desc
	</select>
	
	<update id="editUserStatus_rest" parameterType="String">
		update tbl_member_login set status='휴면' where userid = #{userid};
	</update>
	
	
	<select id="getLastUpdateDay" parameterType="String" resultType="Integer">
		select trunc(sysdate-update_passwd_date)
		from tbl_member_login
		where userid = #{userid}
	</select>
	
	
	
	
	<!--=============== Login 끝 ============-->



	
	<!--=============== Board 시작 ============-->
	
	
	<!--=============== Board 끝 ============-->
	
	
	
</mapper>