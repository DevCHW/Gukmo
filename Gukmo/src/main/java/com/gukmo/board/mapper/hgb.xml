<?xml version="1.0" encoding="UTF-8"?>

<!-- ==== mapper 기본설정 ==== -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- ==== 루트 엘리먼트 & 네임스페이스 설정(프로젝트 전체내에서 유일해야 한다.) ==== -->
<mapper namespace="hgb">

<!-- BoardList를 보여주기 위한 BoardVO 매핑 -->
   <resultMap id="boardvoMap" type="com.gukmo.board.model.BoardVO">
      <id property="board_num" column="board_num"/><!-- property는 VO필드이름, column은 오라클 컬럼명 -->
      <result property="nickname" column="nickname" />
      <result property="category" column="category" />
      <result property="detail_category" column="detail_category" />
      <result property="subject" column="subject" />
      <result property="content" column="content" />
      <result property="write_date" column="write_date" />
      <result property="views" column="views" />
      <result property="profile_image" column="profile_image" />
      <result property="comment_cnt" column="comment_cnt" />
      <result property="like_cnt" column="like_cnt" />
      <result property="writer_point" column="writer_point" />
      <!-- HashtagVO -->
      <collection property="hashtags" column="hashtag_num" javaType="java.util.ArrayList" ofType="com.gukmo.board.model.HashtagVO">
         <id property="hashtag_num" column="hashtag_num"/>
         <result property="hashtag" column="hashtag"/>
         <result property="fk_board_num" column="fk_board_num"/>
      </collection>
      
   </resultMap>
       
	<!-- 하나의 글 불러오기 -->
	<select id="getBoardDetail" parameterType="HashMap" resultMap="boardvoMap">
		   select *
		from tbl_board
		where board_num = #{board_num} and detail_category = #{detail_category}
	</select>
	
	<!-- 상세카테고리 알아오기 -->
	<select id="getCategory" parameterType="Integer" resultType="String">
		select detail_category
		from tbl_board
		where board_num = #{board_num}
	</select>
	
	
	
	
 		
   
</mapper>